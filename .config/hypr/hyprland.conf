################
### MONITOR ###
################
monitor=,preferred,auto,1


###################
### VARIABLES ###
###################
$mainMod = ALT
$terminal = kitty
$fileManager = nautilus 
$menu = vicinae toggle


#################
### AUTOSTART ###
#################
exec-once = vicinae server
exec-once = qs -c noctalia-shell


#################
### ENV ###
#################
env = XCURSOR_THEME,capitaine-cursors
env = XCURSOR_SIZE,16
env = WLR_RENDERER,vulkan
env = WLR_NO_HARDWARE_CURSORS,1


#################
### GENERAL ###
#################
general {
    gaps_in = 8
    gaps_out = 16
    border_size = 0
    layout = dwindle
    resize_on_border = true
}


#################
### DECORATION ###
#################
decoration {
    rounding = 14

    active_opacity = 0.97
    inactive_opacity = 0.90

    shadow {
        enabled = true
        range = 30
        render_power = 3
        color = rgba(0,0,0,0.75)
        offset = 0 8
    }

    blur {
        enabled = true
        size = 6
        passes = 4
        new_optimizations = true
        vibrancy = 0.25
        vibrancy_darkness = 1.0
    }
}


#################
### ANIMATIONS ###
#################

animations {
    enabled = yes

    # --- CURVES ---
    # fast, snappy acceleration
    bezier = swift, 0.35, 0.0, 0.2, 1.0

    # springy but controlled (macOS-like)
    bezier = spring, 0.2, 1.1, 0.25, 1.0

    # sharp exit
    bezier = exit, 0.4, 0.0, 0.6, 1.0

    # clean fade
    bezier = fadefast, 0.0, 0.0, 0.3, 1.0


    # ---- WINDOWS ----
    # Noticeable pop + speed
    animation = windows, 1, 4, spring, popin 88%
    animation = windowsIn, 1, 3, spring
    animation = windowsOut, 1, 3, exit

    # Extremely responsive movement
    animation = windowsMove, 1, 3, swift


    # ---- LAYERS (launchers, menus) ----
    animation = layers, 1, 4, spring, popin 90%
    animation = layersIn, 1, 3, spring
    animation = layersOut, 1, 3, exit


    # ---- FADES ----
    animation = fade, 1, 3, fadefast
    animation = fadeIn, 1, 2, fadefast
    animation = fadeOut, 1, 2, fadefast
    animation = fadeSwitch, 1, 2, fadefast
    animation = fadeShadow, 1, 2, fadefast
    animation = fadeDim, 1, 3, fadefast
    animation = fadeLayers, 1, 2, fadefast
    animation = fadePopups, 1, 2, fadefast
    animation = fadeDpms, 1, 4, fadefast


    # ---- WORKSPACES ----
    # fast slidefade with shorter travel
    animation = workspaces, 1, 4, swift, slidefade 18%
    animation = workspacesIn, 1, 3, swift
    animation = workspacesOut, 1, 3, swift


    # ---- SPECIAL WORKSPACE ----
    # vertical drop, fast but visible
    animation = specialWorkspace, 1, 4, spring, slidevert 22%
    animation = specialWorkspaceIn, 1, 3, spring
    animation = specialWorkspaceOut, 1, 3, exit


    # ---- BORDERS ----
    animation = border, 1, 2, fadefast
    animation = borderangle, 0
}


#################
### INPUT ###
#################
input {
    kb_layout = us

    repeat_delay = 200
    repeat_rate = 60

    follow_mouse = 1
    accel_profile = flat

    touchpad {
        natural_scroll = false
        tap-to-click = true
        disable_while_typing = true
    }
}


#################################
### WINDOW RULES (NEW SYSTEM) ###
#################################

# Browsers â€“ disable blur
windowrule = match:class ^(firefox)$, no_blur on, maximize on
windowrule = match:class ^(google-chrome)$, no_blur on
windowrule = match:class ^(chromium)$, no_blur on
windowrule = match:class ^(brave)$, no_blur on

windowrule = match:class ^(neovide)$, maximize on 

# Vicinae launcher
windowrule = match:class ^(vicinae)$, float 1
windowrule = match:class ^(vicinae)$, center 1
windowrule = match:class ^(vicinae)$


#################
### KEYBINDS ###
#################

# apps
bind = $mainMod, Return, exec, $terminal
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, D, exec, $menu
bind = $mainMod, B, exec, zen-browser

# window actions
bind = $mainMod, Q, killactive
bind = $mainMod, F, fullscreen
bind = $mainMod, V, togglefloating

# focus movement
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

# workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9

# Move to workspace
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4

# Move window
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, L, movewindow, r
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, J, movewindow, d

# Resize
bind = $mainMod CTRL, H, resizeactive, -40 0
bind = $mainMod CTRL, J, resizeactive, 0 40
bind = $mainMod CTRL, K, resizeactive, 0 -40
bind = $mainMod CTRL, L, resizeactive, 40 0

# special workspace
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

bind = $mainMod, W, fullscreen, 1
bind = $mainMod, Tab, cyclenext
bind = $mainMod SHIFT, Tab, cyclenext, prev
bind = SUPER, l,exec, qs -c noctalia-shell ipc call lockScreen lock
bind = SUPER, S, exec, hyprshot -m region --clipboard
bind = $mainMod, space, exec, rofi -show drun


#################
### VOLUME (FIXED) ###
#################

# Volume up
bind = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+

# Volume down
bind = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

# Mute
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Mic mute
bind = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

#################
### BRIGHTNESS ###
#################
bind=,XF86MonBrightnessUp,exec,/usr/local/bin/lightctl up
bind=,XF86MonBrightnessDown,exec,/usr/local/bin/lightctl down

#################
### MOUSE ###
#################
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow


#################
### WORKSPACES ###
#################
workspace = 1, default:true
workspace = special:magic
